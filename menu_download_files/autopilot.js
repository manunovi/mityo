function e(...e){return t=>e.reduceRight(((e,t)=>t(e)),t)}function t(e){let t,n=!1;return function(){return n||(t=e.call(this),n=!0,e=null),t}}async function n(e){if(e.aborted)throw new DOMException("AbortError","AbortError");return new Promise(((t,n)=>{e.addEventListener("abort",(()=>n(new DOMException("AbortError","AbortError"))))}))}function o(e,t){return new Promise((n=>setTimeout((()=>n(t)),e)))}async function a(e,t,n){let o;try{return await new Promise((function(a,i){o=setTimeout((()=>i(n)),t),e.then(a,i)}))}finally{clearTimeout(o)}}function i(e){let t;return function(){return t||(t=e.call(this),async function(){try{await t}catch(e){}t=null}(),t)}}const r=c(document);function s(e){return new Promise(((t,n)=>{function o({type:a}){"load"===a?t():n(),e.removeEventListener("load",o),e.removeEventListener("error",o)}e.addEventListener("load",o),e.addEventListener("error",o)}))}async function c(e){if("loading"==e.readyState)return new Promise((t=>e.addEventListener("DOMContentLoaded",(()=>t()),{once:!0})))}async function l(e,t,o=null){const a=new Promise((n=>{!function(e,t,n,{capture:o=!1,passive:a=!1,once:i=!1,signal:r=null}){null!=r&&r.aborted||(e.addEventListener(t,n,{capture:o,passive:a,once:i}),null==r||r.addEventListener("abort",(function(){e.removeEventListener(t,n,o)}),{once:!0}))}(self,"message",(function o({data:a,source:i}){if(!t({data:a}))return;const r=Array.from(e.getElementsByTagName("iframe")).find((e=>e.contentWindow===i));r&&(n({iframe:r,data:a}),self.removeEventListener("message",o))}),{signal:o})}));return o?async function(e,t){return Promise.race([n(e),t])}(o,a):a}const u=t((function(){return document.getElementById("av-dist-url").href}));function d(e){return function(e){if(Array.from(document.styleSheets).some((t=>t.href===e)))return Promise.resolve();const t=document.createElement("link");return t.rel="stylesheet",t.href=e,document.head.append(t),s(t)}(`${u()}css/${e}.min.css`)}function f(e){const t=document.createElement("script");return t.src=e,document.head.append(t),s(t)}async function p(e){return m(e,document)}async function m(e,t){await c(t);const n=t.getElementById(`av-script-data-${e}`);if(n)return JSON.parse(n.textContent)}function h(e){var t;return((null==(t=self.CSS)?void 0:t.escape)||v)(e)}function v(e){if(0===arguments.length)throw new TypeError("argument required");let t=String(e);return"-"===t?"\\-":(t=t.replace(/\0/g,"ï¿½"),t=t.replace(/[ -,./:-@[-^`{-~]/g,"\\$&"),t=t.replace(/[\x01-\x1F\x7F]/g,(e=>`\\${e.charCodeAt(0).toString(16)} `)),t=t.replace(/^(-?)(\d)/,"$1\\3$2 "),t)}var g;function y(e,t,{handleUnmapped:n="keep"}={}){const o={};for(const[a,i]of Object.entries(e))if(a in t){const e=t[a];if(null==e)continue;o[e]=i}else if("keep"===n)o[a]=i;else if("error"===n)throw new RangeError(`Key ${a} unsupported`);return o}const w=null!=(g=Object.hasOwn)?g:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};function b(e,...t){self.__tcfapi(e,2,...t)}const k={addEventListener(e){b("addEventListener",e)},removeEventListener:e=>new Promise(((t,n)=>{b("removeEventListener",(e=>e?t():n()),e)}))},E=i((async function(){return await r,new Promise(((e,t)=>{k.addEventListener((function(n,o){if(!o)return void t();const a=n.eventStatus;if("tcloaded"!==a&&"useractioncomplete"!==a)return;e(n),k.removeEventListener(n.listenerId)}))}))}));function T(e){return async(...t)=>(await E(),e(...t))}const S=Symbol(),_=Symbol(),L=Symbol(),I=Symbol(),x=Symbol();const C={[S]:{[x]:S,1:S,2:null},[_]:{[x]:_,1:null,2:_},[L]:{[x]:S,1:S,2:_},[I]:{[x]:_,1:S,2:_}};function N(e,t){if(!w(C,e))throw new RangeError("Unknown requirement type");const n=C[e];if(0===t)return null;if(!w(n,t))throw new RangeError("Unknown purpose restriction type");return n[t]}const P={[S]:"consents",[_]:"legitimateInterests"};function A(e,t,n,o){const a=P[o];return!0===e.purpose[a][n]&&!0===e.vendor[a][t]}const O=t((async function(){return await q(),self.adsbygoogle})),j={1:S,2:I,7:I,9:I,10:I},D=i((async function(){const e=await E();if(!0!==e.isServiceSpecific)throw new Error("Invalid consent data: isServiceSpecific !== true");const t=function(e,t,n){const{publisher:{restrictions:o}}=e,a=[];for(const[s,c]of Object.entries(t)){var i,r;const t=N(c,null!=(i=null==(r=o[s])?void 0:r[n])?i:x);t&&A(e,n,s,t)||a.push({purposeId:s,unsatisfiedRequirement:c,unsatisfiedRestrictedRequirement:t})}return 0===a.length?null:a}(e,j,755);if(t){const e={[S]:"consent",[I]:"legitimate interest or consent"},n="missing required "+t.map((({purposeId:t,unsatisfiedRequirement:n})=>`${e[n]} for purpose #${t}`)).join(", ")+" for Google";throw new Error(`Unable to request Google ads: ${n}`)}}));function M({src:e}){let t;try{t=new URL(e)}catch(e){return!1}return function({hostname:e,pathname:t}){return"googleads.g.doubleclick.net"===e&&"/pagead/ads"===t}(t)}let R=null;function q({autoAdsClient:e,autoAdsHost:t,autoAdsHostChannel:n}={}){if(R){if(e)throw new Error("adsbygoogle.js loading already requested");return R}return R=async function(){await D();const o=document.createElement("script");return o.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",e&&(o.dataset.adClient=e,t&&(o.dataset.adHost=t),n&&(o.dataset.adHostChannel=n)),document.head.append(o),s(o)}(),R}const U=new WeakMap,B=new MutationObserver((e=>e.forEach((e=>function(e){const t=e.target,n=U.get(t);if(!n)throw new Error("Unable to find container of insElement");n.style.minHeight=t.style.height}(e)))));const $="function"==typeof IntersectionObserver,H=new Map,F=$&&new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting||void 0===e.isIntersecting){const t=e.target;F.unobserve(t),H.get(t)(),H.delete(t)}}))}),{rootMargin:"0px 0px 100% 0px"});function W(e){return async(t,n)=>{if(G(n)&&$){const{el:e}=t;F.observe(e),await new Promise((t=>H.set(e,t)))}return e(t,n)}}function G(e){return e.lazy}const z="function"==typeof self.reportError?self.reportError:function(e){const t=new CustomEvent("report",{detail:e});V().dispatchEvent(t)},V=t((function(){if(!self.EventTarget)return{dispatchEvent(e){setTimeout((()=>Y(e)))}};const e=new self.EventTarget;return e.addEventListener("report",Y),e}));function Y({detail:e}){throw e}function X(e,t){if(null==e)return{};var n,o,a={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}function J(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,Z(e,t,"get"))}function K(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Z(e,t,"set"),n),n}function Z(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Q(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function ee(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function te(e,t,n){ee(e,t),t.set(e,n)}function ne(e,t){ee(e,t),t.add(e)}function oe(e,t){const n=e-e%1e3;return function(e){const t={year:NaN,month:NaN,day:NaN,hour:NaN,minute:NaN,second:NaN};let n;for(const n of Object.keys(t))t[n]=Number(e.find((({type:e})=>e===n)).value);for(const{type:o,value:a}of e)"era"==o&&(n=a),o in t&&(t[o]=Number(a));"BC"===n&&(t.year=1-t.year);24===t.hour&&(t.hour=0);const o=new Date;return o.setUTCFullYear(t.year,t.month-1,t.day),o.setUTCHours(t.hour,t.minute,t.second,0),o}(new Intl.DateTimeFormat("en-us",{timeZone:t,era:"short",hour12:!1,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}).formatToParts(e))-n}const ae=["domain"],ie=Symbol(),re=t((async function(){const e=`av_tmp_${Math.floor(Math.random()*36**10).toString(36)}`,t=self.location.hostname;let n=t.lastIndexOf(".");for(;n>0;){n=t.lastIndexOf(".",n-1);const o=t.slice(n+1);if(await de(e,"",{domain:o,maxAge:1e3,secure:!1}),null!=await se(e))return o}throw new Error("Unable to find cookie highest level available domain")}));async function se(e){var t;return null==(t=(await async function(){return document.cookie.split("; ").map((e=>e.split("=",2)))}()).find((([t])=>t===e)))?void 0:t[1]}async function ce(e,t){await de(e,"",Object.assign({},t,{maxAge:0}))}const le=Object.freeze({NONE:"None",STRICT:"Strict",LAX:"Lax"}),ue=Object.values(le);async function de(e,t,{maxAge:n=null,domain:o=null,path:a="/",sameSite:i=le.STRICT,secure:r=!0}){if(0===e.length||e.includes("=")||e.includes(";")||e.trim()!==e)throw new TypeError("Invalid cookie name");if(t.includes(";"))throw new TypeError("Invalid cookie value");const s={[e]:t};if(null!==o&&(s.Domain=await fe(o)),null!==n&&(s.Expires=new Date(Date.now()+Number(n)).toUTCString()),s.Path=a.replace(/;.*/,""),r&&(s.Secure=""),!ue.includes(i))throw new RangeError("Invalid sameSite value");if(i===le.NONE&&!r)throw new TypeError("SameSite=None requires Secure to be set");s.SameSite=i;const c=Object.entries(s).map((([e,t])=>`${e}=${t}`)).join(";");document.cookie=c}async function fe(e){if(e===ie)return re();if(e.startsWith(".")||e.includes(";"))throw new TypeError("Invalid domain");return e}const pe={maxAge:31536e6,sameSite:le.LAX,domain:ie,path:"/",secure:!1},me=t((async function(){const e=await se("_ga");try{await async function(e,t){let{domain:n}=t,o=X(t,ae);const a=await fe(n),i=self.location.hostname;if(a===i)return;const r=`.${a}`;if(!i.endsWith(r))throw new Error("Invalid top domain");await Promise.all(function*(){let t=i.length-r.length;for(;t>0;){t=i.lastIndexOf(".",t-1);const n=i.slice(t+1);yield ce(e,Object.assign({},o,{domain:n}))}}())}("_ga",pe)}catch(e){z(e)}if(e){const n=null==(t=e.match(/^(?:(?:GA)?1\.[\d-]+\.|(?=amp-))(.*)/))?void 0:t[1];if(n)return e.startsWith("amp-")&&he("_ga",e),n}var t;const n=`amp-${a=new Uint8Array(16),o=(null!=(i=self.crypto)?i:self.msCrypto).getRandomValues(a),btoa(String.fromCharCode(...o)).replace(/[+/=]/g,(e=>ve[e]))}`;var o,a,i;return he("_ga",n),n}));function he(e,t){de(e,t,pe)}const ve={"+":"-","/":"_","=":""};const ge=t((async function(){var e,t;const n=null!=(e=self.gaGlobal)?e:{};Object.defineProperty(self,"gaGlobal",{configurable:!1,enumerable:!0,set(e){Object.assign(n,e)},get:()=>n});const o=await me(),a=null!=(t=n.hid)?t:Math.floor(2147483647*Math.random());return Object.defineProperties(n,{cid:we(o),hid:we(a),sid:we(void 0),vid:we(void 0)}),n}));async function ye(){try{return await ge()}catch(e){return z(e),null}}function we(e){return{configurable:!1,enumerable:!0,get:()=>e,set(){}}}const be="pub-9280273811890686",ke=t((async function(){let e;try{({client:e}=await p("adsense"))}catch(e){return}await ye(),await async function({client:e,host:t,hostChannel:n}){return q({autoAdsClient:e,autoAdsHost:t,autoAdsHostChannel:n})}({client:e,host:be,hostChannel:"7504972159"})})),Ee=e(W,(e=>async function(t,n){var o;await ke();const a=[...null!=(o=n.hostChannels)?o:[],...Te(n)];return await ye(),e(t,Object.assign({},await async function(e){try{var t,n;const{client:o,units:a}=await p("adsense"),i=null!=(t=null!=(n=e.unit)?n:a[e.unitName])?t:a.AUTO;return Object.assign({client:o},e,{unit:i})}catch(t){return Object.assign({},e)}}(n),{host:be,hostChannels:a}))}))((async function(e,{unit:t,client:n,host:o,hostChannels:a=[],w:i=e.w,h:r=e.h}){const s={google_ad_host:o,google_ad_client:n,google_ad_slot:t};a.length&&(s.google_ad_host_channel=a.join("+"));const c=document.createElement("div");c.classList.add("av-adsense-full-width-container");const l=document.createElement("div");l.classList.add("av-adsense-container");const u=document.createElement("ins");u.classList.add("adsbygoogle"),u.style.display="block",Number.isFinite(r)?(u.style.height=`${r}px`,Number.isFinite(i)&&(u.style.width=`${i}px`)):(s.google_ad_format="auto",s.google_full_width_responsive="true"),c.append(u),l.append(c),e.el.append(l),function(e,t){U.set(t,e),B.observe(t,{attributes:!0,attributeList:["style"]})}(l,u);const d=await O();return await D(),d.push({element:u,params:s}),new Promise((e=>{u.addEventListener("load",(function t(n){if(!function(e){const{tagName:t,src:n,contentDocument:o}=e;if("IFRAME"!==t)return!1;if(!n&&o)return Array.from(o.getElementsByTagName("iframe")).some((e=>M(e)));return M(e)}(n.target))return;e(),u.removeEventListener("load",t,!0)}),!0)}))}));function Te(e){return[Se(e)]}function Se(e){return $?G(e)?"2257821199":"1784066529":"1181909527"}const _e="function"==typeof navigator.sendBeacon?(...e)=>navigator.sendBeacon(...e):function(e,t=null){const n=t instanceof URLSearchParams?t.toString():t;return fetch(e,{body:n,method:"POST",mode:"no-cors",credentials:"include",keepalive:!0}),!0};function Le(e,t=null){const n=new URL(`https://ad.altervista.org/js.ad/size=${e}/`);n.searchParams.set("ref",`${self.location.hostname}${self.location.pathname}`),n.searchParams.set("r",Math.floor(Math.random()*36**10).toString(36)),t&&n.searchParams.set("subUnit",t);const o=document.createElement("script");o.src=n;const a=async function(e){return await s(e),self.avadv.list.find((t=>t.el===e))}(o);return{content:o,displayed:(async()=>{const e=await a;return await e.displayed,{track(){self.avadv.track(e)},legacyTrackCustomEvent(t,n){const o=new URL("https://ad.altervista.org/index.html");o.hostname=e.dom,o.searchParams.set("track",n),o.searchParams.set("status",t),_e(o)}}})(),fetched:(async()=>{var e;const t=await a;return null!=(e=t.fetched)?e:t.displayed})()}}function Ie(e,...t){try{e(...t)}catch(e){z(e)}}function xe(e,...t){for(const n of e)Ie(n,...t)}const{port1:Ce,port2:Ne}=new MessageChannel,Pe=[];function Ae(e){if("function"!=typeof e)throw new TypeError("Function expected");Pe.push(e),Ce.postMessage(null)}var Oe,je;Ne.start(),Ne.addEventListener("message",(function(){Pe.shift()()}));const De="isIntersecting"in(null!=(Oe=null==(je=self.IntersectionObserverEntry)?void 0:je.prototype)?Oe:{}),Me=new Map;function Re(e){if(!De)return function(e,t,n=!0){return Ae((()=>t(n))),()=>{}};if(!Me.has(e)){const t=function(e){const t=new WeakMap,n=new IntersectionObserver(o,{rootMargin:e});function o(e){for(const{target:n,isIntersecting:o}of e){xe(t.get(n),o)}}return function(e,o){t.has(e)||(n.observe(e),t.set(e,new Set));const a=t.get(e);return a.add(o),()=>{a.delete(o),0===a.size&&(t.delete(e),n.unobserve(e))}}}(e);return Me.set(e,t),t}return Me.get(e)}async function qe(e,t,...n){return new Promise((o=>{const a=function(e,...t){return Re(e)(...t)}(e,t,(function(e){if(!e)return;a(),o()}),...n)}))}const Ue=Re("150px");const Be=t((function(){const e=document.createElement("div");return Object.assign(e.style,{position:"absolute",top:0,left:0,right:0}),document.documentElement.append(e),e}));function $e(...e){return Ue(Be(),...e)}const He=[];let Fe=0;const We={container:document,anchorTop:null,originalDocument:document,title:document.title,url:document.URL,technicalTrackersScriptCode:null};function Ge(e){if(!e)return null;const t=He.findIndex((t=>t.container.contains(e)));return-1===t?null:t}function ze(e){return He[e].container}function Ve(){return Fe}function Ye(e=Ve()){const{title:t,url:n}=He[e];return{title:t,url:n,pageIndex:e}}He.push(We);const Xe=t((async function(){return await f("https://widgets.outbrain.com/outbrain.js"),self.OBR}));const Je=t((async function(){var e,t;return null!=(e=self)._taboola||(e._taboola=[]),self._taboola.push({article:"auto"}),null==(t=self.performance)||null==t.mark||t.mark("tbl_ic"),await f("https://cdn.taboola.com/libtrc/mondadoriitalian-network/loader.js"),self._taboola}));const Ke={clientId:"client_id",location:"page_location",title:"page_title",referrer:"page_referrer",language:"language"},Ze=["clientId","eventName"];function Qe({measurementId:e,apiSecret:t,userProperties:n=[]}){const o=new URL("https://www.google-analytics.com/mp/collect");o.searchParams.set("measurement_id",e),o.searchParams.set("api_secret",t);const a=new Set(n),i=function(e){if(0===e.size)return Ke;const t=Object.assign({},Ke);for(const n of e)t[n]=null;return t}(a);return function(e){let{clientId:t,eventName:n}=e,r=X(e,Ze);const s={};for(const e of a)e in r&&(s[e]={value:et(r[e])});const c=y(r,i);for(const[e,t]of Object.entries(c))c[e]=et(t);const l={client_id:t,user_properties:s,events:[{name:n,params:c}]};_e(o,JSON.stringify(l))}}function et(e){return"string"==typeof e||"number"==typeof e?e:String(e)}function tt(...e){return t=>function(n){const o=e.map((e=>"function"==typeof e?e():e)),a=Object.assign({},...o);return t(Object.assign({},a,n))}}function nt(){return e=>async function(t){const n={};for(const[e,o]of Object.entries(t))n[e]=await o;return e(n)}}function ot(){return e=>function(t){const n=Object.assign({},t);for(const[e,t]of Object.entries(n))null==t&&(n[e]="(not set)");return e(n)}}const at=function(e){const{customElements:t}=e;return t?{customElementBaseClass:e.HTMLElement,define(e,n){t.define(e,n)}}:function(e){const t=new Map,n=new Map;let o="",a=null;const i=new WeakMap;function r(e,t=null){s(e,t);const n=e.querySelectorAll(o);for(let e=0;e<n.length;e++)s(n[e],t)}function s(e,t=null){const o=i.get(e);var r;if(o)return void(null==(r=o[t])||r.call(e));const s=n.get(e.localName);if(!s)return;i.set(e,s);const c=e.ownerDocument.contains(e);a=e;try{if(new s.elementConstructor!==e)throw new TypeError}finally{a=null}var l;c&&(null==(l=s.connectedCallback)||l.call(e))}function c(){const n=this.constructor,o=t.get(n);let r=a;r||(r=e.document.createElement(o.name),i.set(r,o));const s=n.prototype;return Object.setPrototypeOf(r,s),r}c.prototype=e.HTMLElement.prototype;const l={define(a,i){if(n.has(a)||t.has(i))throw new DOMException("NotSupportedError","NotSupportedError");const{connectedCallback:s,disconnectedCallback:c}=i.prototype,l={name:a,elementConstructor:i,connectedCallback:s,disconnectedCallback:c};t.set(i,l),n.set(a,l),o+=(o?",":"")+a,r(e.document.documentElement)},customElementBaseClass:c};return new MutationObserver((function(e){for(let t=0;t<e.length;t++){const{addedNodes:n,removedNodes:o}=e[t];for(let e=0;e<n.length;e++){const t=n[e];1===t.nodeType&&r(t,"connectedCallback")}for(let e=0;e<o.length;e++){const t=o[e];1===t.nodeType&&r(t,"disconnectedCallback")}}})).observe(e.document,{subtree:!0,childList:!0}),l}(e)}(self),{customElementBaseClass:it,define:rt}=at;var st=new WeakMap,ct=new WeakMap,lt=new WeakSet;class ut{constructor(e,t){ne(this,lt),te(this,st,{writable:!0,value:void 0}),te(this,ct,{writable:!0,value:void 0}),K(this,st,e),K(this,ct,t)}check(){return Q(this,lt,dt).call(this)<=Date.now()}consume(){const e=Date.now();return!(Q(this,lt,dt).call(this)>e)&&(self.localStorage.setItem(J(this,st),e+J(this,ct)),!0)}}function dt(){const e=self.localStorage.getItem(J(this,st)),t=Number(e);return Number.isFinite(t)?t:0}const ft=new Set,pt=new Set,mt=vt(ft),ht=vt(pt);function vt(e){return function(t,{signal:o=null}={}){return self.addEventListener("click",gt,{capture:!0}),e.add(t),o&&n(o).catch((()=>a())),a;function a(){e.delete(t),0===ft.size&&0===pt.size&&self.removeEventListener("click",gt,{capture:!0})}}}function gt(e){const t=e.composedPath().find((e=>"a"===e.localName));if(t){try{!function(e){const{href:t,target:n}=e;if(!t)throw new Error("No href");if(""!==n&&"_self"!==n)throw new Error("Invalid target");if(e.download)throw new Error("Download link");const o=new URL(t),a=new URL(e.ownerDocument.location.href);if("https:"!==o.protocol&&"http:"!==o.protocol)throw new Error("Invalid protocol");if(o.hostname!==a.hostname)throw new Error("External link");if(function(e,t){if(!e.href.includes("#"))return!1;const n=/#.*/;return e.href.replace(n,"")===t.href.replace(n,"")}(o,a))throw new Error("Fragment link")}(t)}catch(e){return void xe(pt,t,e)}xe(ft,t,(function(){e.preventDefault(),e.stopImmediatePropagation()}))}}var yt=new WeakMap,wt=new WeakMap,bt=new WeakMap,kt=new WeakMap,Et=new WeakMap,Tt=new WeakMap,St=new WeakMap,_t=new WeakMap,Lt=new WeakSet,It=new WeakSet,xt=new WeakSet,Ct=new WeakSet,Nt=new WeakSet,Pt=new WeakSet,At=new WeakSet;class Ot extends it{constructor({ad:{content:e,fetched:t},closeButtonLabel:n}){super(),ne(this,At),ne(this,Pt),ne(this,Nt),ne(this,Ct),ne(this,xt),ne(this,It),ne(this,Lt),te(this,yt,{writable:!0,value:void 0}),te(this,wt,{writable:!0,value:void 0}),te(this,bt,{writable:!0,value:new AbortController}),te(this,kt,{writable:!0,value:void 0}),te(this,Et,{writable:!0,value:void 0}),te(this,Tt,{writable:!0,value:void 0}),te(this,St,{writable:!0,value:void 0}),te(this,_t,{writable:!0,value:void 0});const o=document.createElement("div"),a=document.createElement("div"),i=document.createElement("button");a.classList.add("av-interstitial-ad-container"),a.append(e),i.textContent=n,i.addEventListener("click",Q(this,xt,Mt).bind(this)),o.classList.add("av-interstitial-container"),o.append(i,a),K(this,wt,i),K(this,yt,o),K(this,kt,new Promise(((e,t)=>{K(this,Et,e),K(this,Tt,t)}))),t.then((()=>Q(this,Nt,qt).call(this))).catch(J(this,Tt)),J(this,kt).catch((()=>null)).then((()=>J(this,bt).abort()))}async connectedCallback(){try{if(await Q(this,Ct,Rt).call(this),!J(this,St).check())return;J(this,yt).hidden=!0,this.append(J(this,yt))}catch(e){J(this,Tt).call(this,e)}}disconnectedCallback(){J(this,Tt).call(this)}get displayed(){return J(this,kt)}}function jt(){J(this,yt).hidden=!0}function Dt(){J(this,yt).hidden=!1,J(this,Et).call(this)}function Mt(){J(this,wt).disabled=!0,Q(this,At,Bt).call(this)}async function Rt(){const{accountId:e}=await p("common");K(this,St,new ut(`AVAdvInterstitial@${e}`,144e5))}function qt(){mt(Q(this,Pt,Ut).bind(this),{signal:J(this,bt).signal})}function Ut(e,t){if(!J(this,St).consume())return;t();const n=e.href;K(this,_t,n),self.history.pushState({avInterstitialNavigation:n},document.title),self.addEventListener("popstate",(({state:e})=>{const{avInterstitialNavigation:t}=null!=e?e:{};t?self.location.replace(t):Q(this,Lt,jt).call(this)}));const o=document.createElement("link");o.rel="prefetch",o.as="document",o.href=n;const a=document.createElement("link");a.rel="prerender",a.as="document",a.href=n,J(this,yt).append(o,a),Q(this,It,Dt).call(this)}function Bt(){self.location.replace(J(this,_t))}function $t(...e){const{content:t,displayed:n}=Le(...e),o=document.createElement("div");o.classList.add("av-interstitial-wrap"),o.append(t);const a=async function(){const{track:e}=await n,{iframe:t,data:a}=await l(o,(e=>{var t;return null==(t=e.data)?void 0:t.avInterstitial})),{avInterstitial:{width:i,height:r,mode:s}}=a;if("iframe"!==s)throw new RangeError;Ft(i),Ft(r),t.width=i,t.height=r;const c=async function(e,...t){return qe("0px",e,...t)}(t);return c.then((function(){t.contentWindow.postMessage({avInterstitial:{status:"visible"}},"*"),e()})),{displayed:c}}();return{content:o,fetched:a}}function Ht(...e){const{content:t,fetched:n}=Le(...e),o=document.createElement("div");return o.classList.add("av-interstitial-wrap"),o.append(t),{content:o,fetched:n}}function Ft(e){if(!Number.isInteger(e))throw new TypeError;if(e<=0)throw new RangeError}const Wt=t((()=>rt("av-adv-interstitial",Ot)));const Gt=e(tt({clientId:Math.random().toString(),location:document.location.href}),(e=>async function(t){const{accountId:n}=await p("common"),{postType:o,theme:a,autopilotSettings:i,advGroup:r,branch:s,device:c}=await p("tracking");return e(Object.assign({},t,{account:n,postType:o,theme:a,autopilotSettings:i,advGroup:r,branch:s,device:c}))}))(Qe({measurementId:"G-MMP4H4GNTJ",apiSecret:"NeTJMALGRhy17AR8KCzzAA"}));function zt(e){Gt({eventName:"eligibleClick",link_url:e.href,link_text:e.textContent})}function Vt(e,t){Gt({eventName:"uneligibleClick",error:t.toString(),link_url:e.href,link_text:e.textContent})}let Yt=!1;const Xt=Symbol(),Jt=Symbol();const Kt={label:"loaded"},Zt={RegisterAdViewStat:{type:Xt,label:"served"},RegisterAdVisibility:{type:Xt,label:"visible",last:!0}};function Qt(e){const t="/Stat/",{hostname:n,pathname:o}=e;if("kwebstat2.videostep.com"!==n||!o.startsWith(t))return null;const a=o.slice(t.length);return nn(Zt,a)}const en={"adAvailable-success":{label:"served",clearErrorTimeout:!0},impression:{label:"visible",type:Xt,clearErrorTimeout:!0},adCall:{fullLabel:"pixel_adCall",setErrorTimeout:{interval:3e3,fullLabel:"fallback_after_adcall",last:!0}},adReceived:{fullLabel:"pixel_adReceived"},ad:{fullLabel:"pixel_ad"},noAd:{fullLabel:"pixel_noAd",type:Jt,last:!0},start:{fullLabel:"pixel_start"},midpoint:{fullLabel:"pixel_midpoint"},complete:{fullLabel:"pixel_complete",last:!0},"error-vast":{fullLabel:"pixel_vast_error",type:Jt,last:!0}};function tn(e){const{hostname:t,pathname:n,searchParams:o}=e;if("t.teads.tv"!==t||"/track"!==n)return null;const a=o.get("action");return nn(en,a)}function nn(e,t){return w(e,t)?e[t]:Kt}const on=["iframeSource","headerHeight"];var an=new WeakMap;class rn extends it{constructor(){super(),te(this,an,{writable:!0,value:void 0});const e=document.createElement("a");e.rel="nofollow noopener noreferrer sponsored",e.target="_blank",e.classList.add("av-skin-link");const t=document.createElement("div");t.classList.add("av-skin-header");const n=document.createElement("div");n.classList.add("av-skin-layer-container"),n.append(t);const o=document.createElement("div");o.classList.add("av-skin-image");const a=document.createElement("div");a.classList.add("av-skin-layer-container"),a.append(o),e.append(n,a),K(this,an,e)}connectedCallback(){this.append(J(this,an))}loadSkin({backgroundColor:e,imageURL:t,smallImageURL:n=t,destinationURL:o,headerHeight:a,stickyHeight:i=0,scroll:r=!1}){const s=new URL(o);if("https:"!==s.protocol&&"http:"!==s.protocol)throw new Error("Invalid skin destination URL protocol");if(!/^#([a-fA-F0-9]{3}){1,2}$/.test(e))throw new Error("Invalid skin background color");if(!Number.isFinite(a)||a<=0||!Number.isFinite(i)||i<0||i>a)throw new RangeError("Invalid skin measures");Object.entries({"background-color":e,"image-url":`url("${h(t)}")`,"small-image-url":`url("${h(n)}")`,"header-height":`${a}px`,"sticky-height":`${i}px`}).forEach((([e,t])=>document.documentElement.style.setProperty(`--av-skin-${e}`,t))),document.body.classList.toggle("av-skin-displayed",!0),document.body.classList.toggle("av-skin-scroll",r),document.body.classList.toggle("av-skin-sticky",i>0),J(this,an).href=s.href}}const sn=t((()=>rt("av-adv-skin",rn)));async function cn(e,t=null){const{iframe:n,data:{avSkin:{colore_sfondo:o,img_web:a,img_web_low:i,url_puntamento_personalizzazione:r,altezza_testata:s,posizione:c}}}=await l(e,(({data:e})=>e.avSkin),t);return{iframeSource:n,backgroundColor:o,imageURL:a,smallImageURL:i,destinationURL:r,headerHeight:s,scroll:"fixed"!==c}}const ln={abtest:async(e,{a:t,b:n})=>un(e,Math.random()<.5?t:n),async __experimentalChain(e,{chain:t}){let n;for(const{config:a,loadNextAfter:i}of t)n=await un(e,a),await o(i);return n},async abntest(e,{variants:t,per:n="pageview"}){let o,a=0;for(const{frequency:e}of t)a+=e;if("pageview"===n)o=Math.random()*a;else{if("day@Europe/Rome"!==n)throw new RangeError;{const e=new Date,t=oe(e,"Europe/Rome");o=(e.getTime()+t)/1e3/60/60/24%a}}for(const{config:n,frequency:a}of t)if(o-=a,o<=0)return un(e,n);throw new Error},async fallback(e,{chain:t}){for(const n of t)try{return await un(e,n)}catch(e){}throw new Error},avSkin:e(T)((async function(e){!function(){if(function(e){if(!self.CSS.supports(`(${e})`))throw new DOMException(`CSS feature ${e} not supported`,"NotSupportedError")}("((position:sticky) or (position:-webkit-sticky)) and (pointer-events:none) and (--a:var(--b))"),!self.matchMedia("(min-width: 1280px)").matches)throw new Error("Viewport too narrow for skin")}();const{content:t,displayed:n}=Le("6X6"),o=d("autopilot/banners/avSkin"),i=document.createElement("div");i.classList.add("av-skin-layer-container"),i.append(t),e.el.append(i),sn();const r=new rn,s=new AbortController,c=cn(i,s.signal);try{const{track:t}=await a(n,8e3),i=await a(c,4e3);e.el.append(r),l(i),await o,t()}catch(e){throw s.abort(),e}return void async function(){for(;;)l(await cn(i))}();function l(t){let{iframeSource:n,headerHeight:o}=t,a=X(t,on);const i=Math.max(Math.min(Number(o),e.h),0);r.loadSkin(Object.assign({},a,{stickyHeight:0,headerHeight:i})),function(e){e.classList.add("skin-viewability"),e.parentNode.classList.add("av-skin-viewability-box"),e.parentNode.parentNode.classList.add("av-skin-viewability-layer")}(n)}})),avInterstitial:e(T)((async function(e,{unit:t,subUnit:n=null,oop:o=!1}){var a;const i=(o?$t:Ht)(t,n),r={"it-IT":"Chiudi annuncio","en-US":"Close ad"},s=null!=(a=r[document.documentElement.lang])?a:r["en-US"];Wt();const c=new Ot({ad:i,closeButtonLabel:s});return e.el.append(c),c.displayed})),altervista:e(W,T)((async function(e,{unit:t}){const{content:n,displayed:o}=Le(t);return e.el.append(n),o})),outbrain:e(W,T)((async function(e,{unit:t}){if(0!==Ge(e.el))throw new DOMException("Outbrain is not supported in secondary pages","NotSupportedError");const n=document.createElement("div");n.dataset.widgetId=t,n.classList.add("OUTBRAIN"),e.el.append(n),(await Xe()).extern.researchWidget()})),taboola:e(W,T)((async function(e,{mode:t,placement:n}){const o=document.createElement("div");o.id=`taboola-container-${Math.floor(1296*Math.random()).toString(36)}`;const a=await Je();a.push({container:o.id,mode:t,placement:n}),e.el.append(o),a.push({flush:!0})})),avInRead:e(W,T)((async function(e){if(Yt)throw new DOMException("Only a single inread banner per page is supported","NotSupportedError");Yt=!0;const{content:t,displayed:n}=Le("640X5"),o=document.createElement("div");o.append(t),Object.assign(o.style,{overflow:"hidden",height:"0"}),e.el.append(o);const a=document.createElement("div");a.id="adv-video-article",a.style.isolation="isolate",e.el.append(a);const{track:i,legacyTrackCustomEvent:r}=await n;await function(e){return new Promise(((t,n)=>{const o=[{getTrackingEvent:Qt,trackLabel:"invibes",trackType:"inVibesTracking",trackedLabels:new Set},{getTrackingEvent:tn,trackLabel:"inread",trackType:"inReadTracking",trackedLabels:new Set}],a=new PerformanceObserver(i);function i(e){for(const t of e.getEntries()){const e=r(t);if(null!=e&&e.last)return}}function r(e){const t=new URL(e.name);for(const e of o){const n=s(e,t);if(n)return n}return null}function s(e,t){const n=e.getTrackingEvent(t);return n?c(e,n):null}function c(o,a){const{type:i,label:r,fullLabel:s}=a;i===Xt?t():i===Jt&&n();const{setErrorTimeout:l,clearErrorTimeout:u}=a;(u||l)&&clearTimeout(null==o?void 0:o.errorTimer),l&&(o.errorTimer=setTimeout((()=>c(o,Object.assign({},l,{type:Jt}))),l.interval));const{trackLabel:d,trackType:f,trackedLabels:m}=o,h=null!=s?s:`${d}_${r}`;return m.has(h)||(e(h,f),m.add(h)),a.last&&p(),a}a.observe({entryTypes:["resource"]});const l={getTrackingEvent(e){const{hostname:t,pathname:n,searchParams:o}=e;if("7cf6e.v.fwmrm.net"!==t||!n.startsWith("/ad/l/"))return null;return"defaultImpression"===o.get("cn")?{label:"impression",type:Xt,last:!0}:null},trackLabel:"freewheel",trackType:"freewheelTracking",trackedLabels:new Set},u=new MutationObserver(d);function d(e){for(const t of e)for(const e of t.addedNodes){const t=f(e);if(null!=t&&t.last)return}}function f(e){if("img"!==e.localName)return null;if(!e.id.startsWith("stickyTrackImg"))return null;const t=new URL(e.src);return s(l,t)}function p(){u.disconnect(),a.disconnect()}u.observe(document.body,{childList:!0})}))}((function(e,t){Gt({eventName:"inreadPixel",event:e}),r(e,t)})),i()})),adsense:Ee};async function un(e,t){return e.el.textContent="",ln[t.type](e,t)}function dn(e){return function(e,t){return e.endsWith(t)?Number(e.slice(0,-t.length)):NaN}(e,"px")}const fn=new Set;function pn(e){if(fn.has(e))return;fn.add(e);un({el:e,w:dn(e.style.width)||void 0,h:dn(e.style.height)||void 0},function(e){const t=e.dataset.avadvConfig;try{return JSON.parse(t)}catch(e){}return null}(e))}function mn(){const e=document.getElementsByClassName("avadvslot");Array.from(e).forEach((e=>pn(e)))}class hn extends it{connectedCallback(){pn(this)}}class vn extends it{connectedCallback(){$e((e=>this.classList.toggle("visible",!e)),!1)}}const gn=["hitType"],yn={page_view:"pageview",event:"event"},wn={clientId:"cid",dataSource:"ds",referrer:"dr",location:"dl",title:"dt",contentGroup1:"cg1",contentGroup2:"cg2",contentGroup3:"cg3",contentGroup4:"cg4",contentGroup5:"cg5",encoding:"de",language:"ul",screenColors:"sd",screenResolution:"sr",viewportSize:"vp",appName:"an",appVersion:"av",appId:"aid",appInstallerId:"aiid",eventCategory:"ec",eventAction:"ea",eventLabel:"el",eventValue:"ev"};function bn(e,{customDimensions:t={},customMetrics:n={}}={}){const o=Object.assign({},wn);for(const[e,n]of Object.entries(t))kn(e,n,o),o[e]=`cd${n}`;for(const[e,t]of Object.entries(n))kn(e,t,o),o[e]=`cm${t}`;return function(t){let{hitType:n}=t,a=X(t,gn);if(!(n in yn))throw new RangeError(`Hit type "${n}" unsupported`);const i=Object.assign({},y(a,o,{handleUnmapped:"error"}),{tid:e,aip:1,v:1,t:yn[n]});_e("https://www.google-analytics.com/collect",new URLSearchParams(i))}}function kn(e,t,n){if(e in n)throw new RangeError(`Invalid custom parameter "${e}": parameter already exists`);if(!Number.isInteger(t)||t<=0||t>200)throw new RangeError(`Invalid custom parameter "${e}": value must be a number between 0 and 200`)}const En=bn("UA-1240215-15");async function Tn(e,t="view"){const{accountId:n}=await p("common");En({hitType:"event",clientId:n,location:document.location.href,eventCategory:n,eventAction:t,eventLabel:e.href})}function Sn(){try{const[e]=self.performance.getEntriesByType("navigation");if(e)return e}catch(e){}return function(){const e=["redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","unloadEventStart","unloadEventEnd","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"],t=["navigate","reload","back_forward"],n={name:document.URL,entryType:"navigation",startTime:0,get duration(){return this.loadEventEnd-this.startTime},initiatiorType:"navigation",nextHopProtocol:"",redirectCount:self.performance.navigation.redirectCount,type:t[self.performance.navigation.type]};for(const t of e){const e=()=>Math.max(self.performance.timing[t]-self.performance.timing.navigationStart,0);Object.defineProperty(n,t,{get:e})}return n}()}const _n=["eventName"],Ln=t((function(){return self.dataLayer=self.dataLayer||[],In("js",new Date),f("https://www.googletagmanager.com/gtag/js")}));function In(){self.dataLayer.push(arguments)}function xn(...e){Ln(),In(...e)}function Cn(e,t={}){const n=Object.assign({cookie_prefix:"gtag",groups:"av"},y(t,Ke),{send_page_view:!1});return xn("config",e,n),function(t){let{eventName:n}=t,o=X(t,_n);xn("event",n,Object.assign({},y(o,Ke),{send_to:e}))}}const Nn=new WeakSet;function Pn(e){const t=e.player,n=t.getPlayerState();n!=self.YT.PlayerState.PLAYING&&n!=self.YT.PlayerState.PAUSED||(e.last=t.getCurrentTime()),n==self.YT.PlayerState.PLAYING&&(e.played||(e.played=!0,jn(e,"play")),e.timer||(e.timer=setInterval(An.bind(null,e),1e3))),n==self.YT.PlayerState.ENDED&&(e.ended||(e.ended=!0,An(e,!0),jn(e,"end")))}function An(e,t){const n=e.player.getCurrentTime(),o=Date.now();e.watchtime+=n-e.last,e.last=n,e.watchtime?(o-e.lastWatch>=3e4||t)&&(e.lastWatch=o,jn(e,"watch")):e.player.getPlayerState()!=self.YT.PlayerState.PLAYING&&(clearInterval(e.timer),e.timer=0)}let On;function jn(e,t){const{player:n,watchtime:o}=e,a=n.getVideoUrl().replace(/([?&])(t|ebc)=[^&]*/,"$1").replace(/&+$|([?&])&+/g,"$1");On({action:t,videoURL:a,watchtime:0|1e3*o,duration:1e3*n.getDuration(),iframeElement:n.getIframe()}),e.watchtime=0}async function Dn(e){await r,On=e,document.querySelector('iframe[src^="https://www.youtube.com/embed/"][src*=enablejsapi]')&&(!function(e,t,n){const o=e[t];if(Nn.has(o))return void(e[t]=n);const a=[];let i=!1;function r(...e){if(!i){i=!0;for(const t of a)try{t.apply(this,e)}catch(e){}i=!1}}function s(e){a.push(e)}o&&s(o),s(n);try{Object.defineProperty(e,t,{configurable:!1,enumerable:!0,set(e){s(e)},get:()=>r}),Nn.add(r)}catch(n){e[t]=r}}(self,"onYouTubeIframeAPIReady",(()=>function(e){const t=new Map;for(const n of Array.from(document.getElementsByTagName("iframe"))){if(0!=n.src.indexOf("https://www.youtube.com/embed/"))continue;const o=new e.Player(n,{events:{onReady:a,onStateChange:i}}),r={played:!1,ended:!1,lastWatch:0,last:0,watchtime:0,player:o};t.set(o,r)}function n(){for(const e of t.values())An(e,!0)}function o(e){return t.get(e)}function a(e){const t=e.target,n=o(t);n.watchtime=Math.min(10,t.getCurrentTime()),Pn(n)}function i(e){Pn(o(e.target))}t.size&&(self.addEventListener("pagehide",(()=>n())),document.addEventListener("visibilitychange",(function(){"visible"!==document.visibilityState&&n()})))}(self.YT))),f("https://www.youtube.com/iframe_api"))}let Mn,Rn;async function qn(){return"reload"===Sn().type&&Date.now()-Number(self.sessionStorage.getItem(await Un()))<1e4}async function Un(){const{accountId:e}=await p("common");return`autoreload@${e}`}function Bn(){Mn=Date.now(),self.addEventListener("focus",(()=>$n(!0))),self.addEventListener("blur",(()=>$n(!1))),self.setInterval((()=>function(){if(document.hasFocus())return;if("visible"===document.visibilityState)return;$n(!0),$n(!1)}()),3e3)}function $n(e){if(!e)return Mn=Date.now(),void(Rn>0||"visible"!==document.visibilityState&&async function(){self.sessionStorage.setItem(await Un(),Date.now()),self.location.reload()}());Rn-=Date.now()-Mn}const Hn=["sourceElement"],Fn=Symbol();function Wn(e){return t=>async function(n){var o;const{sourceElement:a=null}=n,i=X(n,Hn),r=a===Fn?0:null!=(o=Ge(a))?o:Ve(),{title:s,url:c}=Ye(r);return t(Object.assign({title:s,location:c,referrer:Gn()},await(null==e?void 0:e(r)),i))}}function Gn(){const{referrer:e}=document;return e&&new URL(e).hostname!==document.location.hostname?e:""}function zn(){var e;const t=function(){const e="BackCompat"==document.compatMode?document.body:document.documentElement;return{width:e.clientWidth,height:e.clientHeight}}();return{language:null==(e=navigator.language)?void 0:e.toLowerCase(),screenColors:self.screen.colorDepth,screenResolution:`${self.screen.width}x${self.screen.height}`,viewportSize:`${t.width}x${t.height}`}}async function Vn(){const e=Sn();return await r,await new Promise((e=>Ae(e))),Object.assign({},function(e){const t=new URL(e.name),{redirectStart:n,redirectEnd:o,domainLookupStart:a,domainLookupEnd:i,connectStart:r,secureConnectionStart:s,connectEnd:c,requestStart:l,responseStart:u,responseEnd:d,transferSize:f,encodedBodySize:p,decodedBodySize:m,nextHopProtocol:h}=e;return Object.assign({redirectTime:o-n,domainLookupTime:i-a,connectionTime:c-r,secureHandshakeTime:s-r,responseTime:u-l,downloadTime:d-u,vitalsTTFB:u,transferBytes:f,encodedBytes:p,decodedBytes:m,protocol:`${t.protocol}${h}`},function(e){var t;const{serverTiming:n}=e;if(!n)return{avCache:null};const{description:o}=null!=(t=n.find((e=>"cache"===e.name)))?t:{};return{avCacheHits:"HIT"===o?1:0,avCache:null!=o?o:"no cache"}}(e))}(e),{vitalsDCL:e.domContentLoadedEventEnd,navigationType:await qn()?"autoreload":e.type})}const Yn=t((function(){let e=self.localStorage.getItem("av_cid");return e||(e=Math.floor(Math.random()*36**10).toString(36),self.localStorage.setItem("av_cid",e)),e}));async function Xn(){const{accountId:e}=await p("common");return`${Yn()}@${e}`}const Jn=e(tt({clientId:Xn()},zn,(function(){const e=navigator.connection;return{userConnectionType:null==e?void 0:e.effectiveType,userConnectionDownlink:1e3*(null==e?void 0:e.downlink),userConnectionRTT:null==e?void 0:e.rtt}})),nt(),Wn((async function(e){const{accountId:t}=await p("common"),{branch:n,wpVersion:o,phpVersion:a,postType:i,course:r,device:s,theme:c,isLegacyMobileEnabled:l,privacyPolicy:u,autopilotSettings:d,advGroup:f,advTag:m}=await Zn(e);return Object.assign({appName:"WordPress",appVersion:o,appInstallerId:`PHP ${a}`,appId:"wpfe",dataSource:"avt",accountId:t,branch:n,subpageIndex:Ye(e).pageIndex,theme:c,postType:i,course:r,isLegacyMobileEnabled:l,privacyPolicy:u,autopilotSettings:d,advGroup:f,advTag:m,device:s},await function(e){if(0===e)return Vn();return null}(e))})),(Kn={redirectTime:{duplicateAsDimension:"redirectTimeDimension"},domainLookupTime:{duplicateAsDimension:"domainLookupTimeDimension"},connectionTime:{duplicateAsDimension:"connectionTimeDimension"},secureHandshakeTime:{duplicateAsDimension:"secureHandshakeTimeDimension"},responseTime:{duplicateAsDimension:"responseTimeDimension"},downloadTime:{duplicateAsDimension:"downloadTimeDimension"},vitalsTTFB:{duplicateAsDimension:"vitalsTTFBDimension"},vitalsDCL:{duplicateAsDimension:"vitalsDCLDimension"},transferBytes:{duplicateAsDimension:"transferBytesDimension"},encodedBytes:{duplicateAsDimension:"encodedBytesDimension"},decodedBytes:{duplicateAsDimension:"decodedBytesDimension"},userConnectionDownlink:{duplicateAsDimension:"userConnectionDownlinkDimension"},userConnectionRTT:{duplicateAsDimension:"userConnectionRTTDimension"}},e=>function(t){const n=Object.assign({},t);for(const[e,o]of Object.entries(Kn)){if(!(e in t))continue;const{duplicateAsDimension:a,decimalDigits:i=0}=o,r=Number(t[e]).toFixed(i);n[e]=r,a&&(null!=n[a]||(n[a]=r))}return e(n)}),ot())(bn("UA-1240215-11",{customDimensions:{postType:1,course:3,subpageIndex:30,accountId:12,branch:2,theme:5,autopilotSettings:11,advGroup:9,advTag:13,isLegacyMobileEnabled:10,privacyPolicy:7,iubendaConsent:14,redirectTimeDimension:15,domainLookupTimeDimension:16,connectionTimeDimension:17,secureHandshakeTimeDimension:18,responseTimeDimension:19,downloadTimeDimension:20,vitalsTTFBDimension:21,vitalsDCLDimension:22,transferBytesDimension:23,encodedBytesDimension:24,decodedBytesDimension:25,avCache:26,navigationType:31,protocol:6,device:4,userConnectionDownlinkDimension:27,userConnectionRTTDimension:28,userConnectionType:29},customMetrics:{customMetric:1,redirectTime:2,domainLookupTime:3,connectionTime:4,secureHandshakeTime:5,responseTime:6,downloadTime:7,vitalsTTFB:8,vitalsDCL:9,transferBytes:10,encodedBytes:11,decodedBytes:12,avCacheHits:13,userConnectionDownlink:14,userConnectionRTT:15}}));var Kn;async function Zn(e){return async function(e,t){return m(t,He[e].originalDocument)}(e,"tracking")}const Qn=t((async function(){return e(Wn(eo),ot())(Cn("G-R5PDW0TTSP",{clientId:await Xn()}))}));async function eo(e){const{accountId:t}=await p("common"),{branch:n,wpVersion:o,phpVersion:a,postType:i,course:r,device:s,theme:c,autopilotSettings:l,advGroup:u,advTag:d}=await Zn(e);return{wp_version:`WP ${o} @ PHP ${a}`,account:t,branch:n,post_type:i,course:r,device:s,theme:c,autopilot_settings:l,adv_group:u,adv_tag:d}}const to=t((async function(){const{platform:e}=await p("common");return e})),no={altervista:"UA-1240215-4",giallozafferano:"UA-678608-2",giallozafferanoen:"UA-678608-28",cookaround:"UA-2292754-1",pianetadonna:"UA-746038-18",pianetamamma:"UA-746038-9",zingarate:"UA-53296-1",soldionline:"UA-1201302-1"},oo=t((async function(){const t=no[await to()];return t?e(tt({clientId:me(),dataSource:"avt"},zn),nt(),Wn(),ot())(bn(t)):()=>{}}));async function ao(e){return(await oo())(e)}const io={giallozafferanoen:"G-ZSW45KL5XF"},ro=t((async function(){const e=io[await to()];if(!e)return()=>{};return Cn(e,{cookie_prefix:"",clientId:await me()})}));function so(e){return Jn({sourceElement:e.iframeElement,hitType:"event",eventCategory:"video",eventAction:e.action,eventLabel:e.videoURL,eventValue:e.watchtime,customMetric:e.duration})}function co(){lo("event",{eventCategory:"HeartBeat",eventAction:"30s"})}function lo(...e){var t;const n=null!=(t=self.__gaTracker)?t:self[self.GoogleAnalyticsObject];null==n||n("send",...e)}const uo=t((()=>go("first-input",(e=>({value:e.processingStart-e.startTime,entry:e}))))),fo=t((()=>go("paint",(e=>"first-contentful-paint"!==e.name?null:{value:e.startTime,entry:e})))),po=t((()=>go("paint",(e=>"first-paint"!==e.name?null:{value:e.startTime,entry:e})))),mo=t((function(){return new Promise((e=>{let t=null;const{unregister:n,syncFlush:o}=yo("largest-contentful-paint",(e=>{t=e})),a=["scroll","click","keydown","visibilitychange"];function i(){o(),t&&e({value:t.startTime,entry:t});for(const e of a)document.removeEventListener(e,i,{capture:!0});n()}for(const e of a)document.addEventListener(e,i,{capture:!0})}))})),ho=t((function(){if(!wo("layout-shift"))return()=>null;let e=0;const{syncFlush:t}=yo("layout-shift",(function(t){t.hadRecentInput||(e+=t.value)}));return function(){return t(),{value:e}}}));const vo=t((function(){if(!wo("layout-shift"))return()=>null;let e,t=0,n=[],o=0,a=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY;const{syncFlush:r}=yo("layout-shift",(function(r){if(r.hadRecentInput)return;const s=r.startTime;(i+1e3<s||a+5e3<s)&&(a=s,o=0,e=[]),o+=r.value,i=s,e.push(r),t<o&&(t=o,n=e)}));return function(){return r(),{value:t,entries:n}}}));function go(e,t){return new Promise((n=>{const{unregister:o}=yo(e,(function(e){const a=t(e);a&&(n(a),o())}))}))}function yo(e,t){if(!wo(e))return{unregister(){},syncFlush(){}};function n(e){for(const n of e)try{t(n)}catch(e){}}const o=new PerformanceObserver((e=>n(e.getEntries())));return o.observe({type:e,buffered:!0}),{unregister(){o.disconnect()},syncFlush(){n(o.takeRecords())}}}function wo(e){var t,n;return Boolean(null==(t=self.PerformanceObserver)||null==(n=t.supportedEntryTypes)?void 0:n.includes(e))}const bo={metricName:"FP",goodThreshold:1e3,buckets:[0,250,500,750,1e3,1500,2e3]},ko={metricName:"FCP",goodThreshold:1500,buckets:[0,500,1e3,1500,2e3,2500,3e3]},Eo={metricName:"LCP",goodThreshold:2500,buckets:[0,1e3,1500,2e3,2500,3e3,3500]},To={metricName:"FID",goodThreshold:100,buckets:[0,25,50,75,100,125,150]},So={metricName:"classicCLS",goodThreshold:.1,buckets:[0,.025,.05,.075,.1,.125,.15]},_o={metricName:"windowedCLS",goodThreshold:.1,buckets:[0,.025,.05,.075,.1,.125,.15]};let Lo=0;function Io(){const e=ho()();if(!e)return;const{value:t}=e;Oo(So,{value:t-Lo,totalValue:t}),Lo=t}let xo=0;function Co(){const e=vo()();if(!e)return;const{value:t,entries:n}=e;let o=null,a=0;for(const e of n)for(const t of e.sources){if(!t.node)continue;const e=Math.max(Do(t.currentRect),Do(t.previousRect));e>a&&(a=e,o=t.node)}Oo(_o,{value:t-xo,totalValue:t},o),xo=t}const No=Math.random().toString(),Po=e(tt({pageviewId:No,clientId:No,location:document.location.href}),(e=>async function(t){const{accountId:n}=await p("common"),{postType:o,theme:a,autopilotSettings:i,advGroup:r,branch:s,device:c}=await p("tracking");return e(Object.assign({},t,{account:n,postType:o,theme:a,autopilotSettings:i,advGroup:r,branch:s,device:c}))}),ot())(Qe({measurementId:"G-JCVJYE14HH",apiSecret:"RciieJt8Tk6b59Hmqr8vTQ",userProperties:["pageFP","pageFPBucketed","pageFPGood","pageFCP","pageFCPBucketed","pageFCPGood","pageLCP","pageLCPBucketed","pageLCPGood","pageFID","pageFIDBucketed","pageFIDGood","pageClassicCLS","pageClassicCLSBucketed","pageClassicCLSGood","pageWindowedCLS","pageWindowedCLSBucketed","pageWindowedCLSGood"]})),Ao=new Map;function Oo({metricName:e,goodThreshold:t,buckets:n},{value:o,totalValue:a=o},i=null){var r;const s=null!=(r=Ao.get(e))?r:0;Ao.set(e,s+1);const c=e.replace(/^./,(e=>e.toUpperCase())),l={eventName:e,eventNo:s,value:o,bucketedValue:jo(o,n),isGood:o<=t,[`page${c}`]:a,[`page${c}Bucketed`]:jo(a,n),[`page${c}Good`]:a<=t};if(i){const e=function(e){if(!e)return{path:"none",text:""};const t=e.textContent.slice(0,100);let n="",o=e;e.nodeType!==Node.ELEMENT_NODE&&(n=`(${e.nodeName})`,o=o.parentNode);for(;o.nodeType===Node.ELEMENT_NODE;){let e=Mo(o),t=Boolean(e);if(!e){e=`${o.tagName}${Array.from(o.classList).map((e=>`.${e}`)).join("")}`}if(n=e+(n?` > ${n}`:""),t)break;o=o.parentNode}return{path:n,text:t}}(i);l.nodePath=e.path,l.nodeText=e.text}Po(l)}function jo(e,t){for(const n of t)if(e<=n)return n;return`> ${t[t.length-1]}`}function Do({width:e,height:t}){return e*t}function Mo(e){return e===e.ownerDocument.body?e.tagName:e.classList.contains("hentry")?".hentry":e.id?`#${e.id}`:null}function Ro(e,t){let n=e.groupIndex+"_"+e.itemIndex+"_"+e.alternativeIndex;void 0===t.hits[n]?t.missing[n]=e:t.items[n]=t.hits[n]}function qo(e,t,n){if(void 0===e||!e)return;const o=e.children;if(o.length>0&&"a"===o[0].tagName.toLowerCase())return;let a=document.createElement("a");void 0!==n&&a.setAttribute("title",n),a.setAttribute("href",t),a.setAttribute("target","_blank"),a.setAttribute("rel","nofollow sponsored noopener"),a.setAttribute("data-auto","1"),a.textContent=e.textContent,e.textContent="",e.appendChild(a)}function Uo(e){let t,n;for(const[,o]of Object.entries(e.items)){let e=".av-recipe-list li, .wp-block-altervista-tools-group > .av-inner-blocks-content > .wp-block-altervista-tool",a=document.querySelectorAll(".recipe-tools-group, .wp-block-altervista-tools-group")[o.groupIndex].querySelectorAll(e)[o.itemIndex];!1!==o.alternativeIndex&&(a=a.querySelectorAll(".av-recipe-tool-alternative, .tool-alternative")[o.alternativeIndex]),t=a.querySelector(".av-recipe-tool-category, .tool-category"),n=a.querySelector(".av-recipe-tool-model, .tool-model"),void 0!==o.modelUrl&&qo(n,o.modelUrl,o.modelTitle),void 0!==o.categoryUrl&&qo(t,o.categoryUrl,o.categoryTitle)}}let Bo,$o;async function Ho(e,t){return Bo=e,$o=t,await async function(){return await f("https://www.gstatic.com/firebasejs/6.6.2/firebase-app.js"),f("https://www.gstatic.com/firebasejs/6.6.2/firebase-messaging.js")}(),async function(){let e={apiKey:"AIzaSyAuWrJN7NRHIggG8jMPLMbDnRx301hUy-M",authDomain:"av-test-f4c9c.firebaseapp.com",databaseURL:"https://av-test-f4c9c.firebaseio.com",projectId:"av-test-f4c9c",storageBucket:"",messagingSenderId:"43975754916"};self.firebase.initializeApp(e);const t=self.firebase.messaging();if("serviceWorker"in navigator){let e=Bo.service_worker_url;self.console.log("Service Worker URL:",e),navigator.serviceWorker.register(e).then((function(e){self.console.log("Service worker registration succeeded:",e),t.useServiceWorker(e),$o.get_token(!1)})).catch((function(e){self.console.log("Service worker registration failed:",e)})),navigator.serviceWorker.addEventListener("message",(function(e){self.console.log("Client message received",e.data)}))}else self.console.log("Service workers are not supported."),"function"==typeof $o.onUnsupported&&$o.onUnsupported();t.onTokenRefresh((function(){self.console.log("refresh token"),$o.get_token(!1)})),t.onMessage((function(e){self.console.log("Message received. ",e)}))}()}function Fo(e,t="",n="Chiudi"){return function(e,t,n){const o=e=>self.document.createElement(e);let a=o("div");a.classList.add("av-messenger-wrapper");let i=o("div");i.classList.add("av-messenger-box");let r=o("h3");r.innerText=e;let s=o("p");s.innerText=t;let c=o("button");c.classList.add("av-messenger-confirm"),c.innerText=n,a.style="position: fixed;width: 100%;height: 100%;background: rgba(0,0,0,0.5);top: 0;",i.style="position: relative;top: 20vh;width: 25%;min-width: 300px;min-height: 150px;background: white;margin: 0 auto;text-align: center;border-radius: 10px;box-sizing: border-box;z-index: 9999;padding: 15px;",r.style="margin: 0 0 10px;",s.style="margin: 0 0 20px;",c.addEventListener("click",(()=>{!function(){if(!Wo)return;Go.remove(),Go=null,Wo=!1}()})),i.append(r,s,c),a.append(i),self.document.body.append(a),Wo=!0,Go=a}(e,t,n)}let Wo=!1,Go=null;let zo,Vo,Yo,Xo={get(e){let t,n,o=self.document.cookie,a=e+"=";if(!o)return null;if(n=o.indexOf("; "+a),-1===n){if(n=o.indexOf(a),0!==n)return null}else n+=2;return t=o.indexOf(";",n),-1===t&&(t=o.length),decodeURIComponent(o.substring(n+a.length,t))},set(e,t,n,o,a,i){let r=new Date;"object"==typeof n&&n.toGMTString?n=n.toGMTString():parseInt(n,10)?(r.setTime(r.getTime()+1e3*parseInt(n,10)),n=r.toGMTString()):n="",self.document.cookie=e+"="+encodeURIComponent(t)+(n?"; expires="+n:"")+(o?"; path="+o:"")+(a?"; domain="+a:"")+(i?"; secure":"")},remove(e,t,n,o){this.set(e,"",-1e3,t,n,o)}},Jo={};async function Ko(e,t,n){return zo=e,Vo=t,Jo=n,await r,Yo=self.document.getElementById("enable_push_notification"),!!Yo&&(await async function(){Jo.displayBox=function(){if("yes"!==Xo.get("push_notification_denied"))document.querySelector(".av-webpush").style.display="flex";else{self.console.log("Il visitatore ha negato o chiuso il box delle notifiche"),Jo.onPermissionDenied();let e=new Event("push_permissiondenied");self.document.dispatchEvent(e)}},Jo.onTokenReady=function(){!function(){if(""!==Jo.token){self.console.log("token found");let e,t=-1,n=[];"undefined"!=typeof Storage&&(n=Xo.get("push_notification_topics"),t=Xo.get("push_notification_token"),e=Xo.get("push_notification_disable_ws"),t!=Jo.token&&(e="no"),null==n||""==n||t!=Jo.token?n=[]:(self.console.log("cache topics"),n=n.split(","))),self.console.log("Topics del visitatore ",n,n.indexOf("default"),t==Jo.token),-1===n.indexOf("default")&&"yes"!=e?(self.console.log('Il topic "default" non Ã¨ associato al cookie del visitatore'),Vo.get_token_topics(Jo.token,(function(e){if(self.console.log("Ho chiesto al web service i topics del visitatore",e.topics),e.success&&e.topics.length>0&&(n=e.topics),Xo.set("push_notification_topics",n.join(","),86400,zo.cookie_path),Xo.set("push_notification_token",Jo.token,86400,zo.cookie_path),Xo.set("push_notification_disable_ws","yes",86400,zo.cookie_path),0==e.code)-1===n.indexOf("default")?(self.console.log("Il topic 'default' non risulta neanche sul web service per l'attuale visitatore, devo chiedere l'approvazione"),Jo.displayBox()):(self.console.log("Il topic 'default' risulta sul web service per l'attuale visitatore, non devo fare altro"),self.console.log("is_first",Jo.isFirstRequestPermission),Jo.isFirstRequestPermission&&(Jo.event_element.dispatchEvent(new Event("push_notification_ready")),self.console.log("Notification permission ready.")));else if(404==e.code){Jo.event_element.dispatchEvent(new Event("push_notification_domain_ready")),self.console.log("Notification permission domain ready."),self.console.log("Il token non esiste. Ã stato dato il consenso alle notifiche su un altro blog dello stesso dominio"),self.console.log("Comunico al web service questo nuovo token, ma non lo associo a nessun topic");let e=(new self.Intl.DateTimeFormat).resolvedOptions();Vo.create_token(Jo.token,e.locale,e.timeZone),self.console.log("Mostro il popup per richiedere il consenso"),Jo.displayBox()}}))):-1!==n.indexOf("default")?(self.console.log("Il topic 'default' risulta nel cookie di cache, non devo fare altro"),self.console.log("is_first",Jo.isFirstRequestPermission),Jo.isFirstRequestPermission&&(Jo.event_element.dispatchEvent(new Event("push_notification_ready")),self.console.log("Notification permission ready."))):(self.console.log("Il dominio ha il consenso, ma default di questo blog non Ã¨ associato (ho giÃ  controllato sul Web Service). Chiedo il consenso. (ex caso loop)"),Jo.displayBox())}else self.console.log("token not found"),Jo.displayBox()}()},Jo.onUnsupported=function(){let e=new Event("push_unsupported");self.document.dispatchEvent(e)},Jo.onNoPermission=function(){Xo.set("push_notification_denied","yes",86400,zo.cookie_path),self.console.log("permesso negato per le notifiche");let e=new Event("push_nopermission");self.document.dispatchEvent(e)},Jo.event_element.addEventListener("push_notification_domain_ready",(function(){self.console.log("push_notification_domain_ready event")}))}(),async function(){Jo.document_ready=!0,self.document.body.addEventListener("push_notification_granted",(()=>{Xo.set("push_notification_topics","default",86400,zo.cookie_path),Xo.set("push_notification_token",Jo.token,86400,zo.cookie_path),Fo(zo.translations.push_notification_granted,zo.translations.push_notification_message,zo.translations.close),document.querySelector(".av-webpush").style.display="none",self.console.log("push_notification_granted event")})),self.document.getElementById("enable_push_notification").addEventListener("click",(()=>{""!==Jo.token?(self.console.log("Il visitatore ha giÃ  il token, aggiungo solo il topic 'default'"),self.document.body.dispatchEvent(new Event("push_notification_granted")),self.console.log("Notification permission granted."),Vo.add_topics(Jo.token,["default"],(function(e){e.success&&Xo.set("push_notification_topics","default",86400,zo.cookie_path)}))):Jo.get_token(!0)}))}())}let Zo,Qo={objectToFormData(e,t,n){let o,a=t||new FormData;for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o=n?n+"["+t+"]":t,"object"!=typeof e[t]||e[t]instanceof self.File?a.append(o,e[t]):Qo.objectToFormData(e[t],a,o));return a},ajax(e){let t={};t.method=e.type,void 0===e.headers&&(e.headers={}),void 0===e.data&&(e.data={}),!1===e.cache&&(e.data.cb=Date.now());const n=new URLSearchParams(Qo.objectToFormData(e.data)).toString();"post"===e.type?(e.headers=Qo.merge_headers({"Content-Type":"application/x-www-form-urlencoded"},e.headers),t.body=n):e.url+="?"+n,t.headers=Qo.merge_headers(e.headers,t.headers),fetch(e.url,t).then((t=>t.ok?t.json().then((t=>e.success(t))):("function"==typeof e.always&&e.always(t),null))).catch((t=>e.error(t)))},merge_headers(e,t={}){for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}};class ea extends it{async connectedCallback(){await async function(e,...t){return qe("150px",e,...t)}(this);(await async function(){return await f("https://www.google.com/recaptcha/api.js"),new Promise((e=>self.grecaptcha.ready((()=>e(self.grecaptcha)))))}()).render(this,{sitekey:"6LeyKZIUAAAAALjNzIpBvxs65ToCb-L_wBlVrU5n"})}}let ta;async function na(e,t="view"){const{accountId:n}=await p("common");ta({hitType:"event",clientId:n,location:document.location.href,eventCategory:n,eventAction:t,eventLabel:e.href})}const oa=new Set;function aa(e){if(oa.has(e))return;oa.add(e);const t=e.querySelectorAll(".av-affiliation-banner-slides");if(t.length>0){const e=t.item(0);e.setAttribute("data-index",oa.size),function(e){if(e.querySelectorAll(".av-affiliation-banner-slide").length>1){const t=document.createElement("span");t.innerHTML="&#10094;",t.classList.add("av-prev");const n=document.createElement("span");n.innerHTML="&#10095;",n.classList.add("av-next"),e.appendChild(t),e.appendChild(n),function(e){let t;e.addEventListener("mouseenter",(()=>{ra.mouseoverSliderIndex=e.getAttribute("data-index")})),e.addEventListener("mouseleave",(()=>{ra.mouseoverSliderIndex=!1})),t=e.querySelectorAll(".av-next");for(let e=0;e<t.length;e++)t[e].addEventListener("click",sa);t=e.querySelectorAll(".av-prev");for(let e=0;e<t.length;e++)t[e].addEventListener("click",ca);setInterval((()=>{fa(e,1,!1)}),5e3)}(e)}la(e)}(e)}const n=e.querySelectorAll("a");for(const e of n)na(e),e.addEventListener("click",(e=>na(e.currentTarget,"click")))}class ia extends it{connectedCallback(){this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML="<slot></slot>";this.shadowRoot.querySelector("slot").addEventListener("slotchange",(e=>{e.target.assignedElements().forEach((e=>{aa(e)}))}))}}const ra={mouseoverSliderIndex:!1};function sa(e){e.target.matches(".av-affiliation-banner-slides .av-next")&&fa(e.target.closest(".av-affiliation-banner-slides"),1,!0)}function ca(e){e.target.matches(".av-affiliation-banner-slides .av-prev")&&fa(e.target.closest(".av-affiliation-banner-slides"),-1,!0)}function la(e){const t=e.querySelectorAll(".av-affiliation-banner-slide"),n=ua(e);for(let e=0;e<t.length;e++)t[e].style.display="none";t[n-1].style.display="block",da(e,n)}function ua(e){return parseInt(e.getAttribute("data-slide"),10)}function da(e,t){let n=t;const o=e.querySelectorAll(".av-affiliation-banner-slide");(isNaN(n)||n>o.length)&&(n=1),t<1&&(n=o.length),e.setAttribute("data-slide",n.toString())}function fa(e,t,n){let o=e.getAttribute("data-index");if(!n&&o===ra.mouseoverSliderIndex)return;let a=ua(e);a+=t,da(e,a),la(e)}!async function(){rt("av-adv-slot",hn),rt("av-adv-sticky-bottom",vn),await r,ke(),mn(),document.addEventListener("AVAdvPopulateSlots",(()=>mn()))}(),async function(){mt(zt),ht(Vt)}(),async function(){await r;const e=await p("reading_list");if(void 0===e)return;const{options:t}=e,n=e.posts;let o=document.querySelector(".av-site-footer"),a=document.querySelector("#av-reading-list-topbar"),i=a.querySelector(".av-rl-socials"),s=a.querySelector(".av-rl-progress .internal"),c=a.querySelector(".av-rl-title h2");const l=document.querySelector(".av-site-content");He[0].container=l,l.classList.add("page-active"),l.querySelector(".post-navigation")&&l.querySelector(".post-navigation").remove(),function(){h(He[0].container),a.querySelector(".av-rl-nav .total").innerHTML=n.length,v(He[0]);let e=a.querySelector(".av-rl-nav .btn.prev"),t=a.querySelector(".av-rl-nav .btn.next");e.onclick=()=>{0!==Fe&&He[Fe-1].container.querySelector(".scroll-anchor-top").scrollIntoView({behavior:"smooth"})},t.onclick=()=>{var e;if(Fe===n.length-1)return;let t=null==(e=He[Fe+1])?void 0:e.container;t?t.querySelector(".scroll-anchor-top").scrollIntoView({behavior:"smooth"}):f(!0).then((()=>{t=He[Fe+1].container,t.querySelector(".scroll-anchor-top").scrollIntoView({behavior:"smooth"})}))}}(),$e((e=>a.classList.toggle("visible",!e)),!0),null==self.avMakeTopBanner||self.avMakeTopBanner();let u=!1,d=1;function f(e=!1){let t=e;if("boolean"!=typeof e&&(t=!1),d!==n.length)return(document.documentElement.offsetHeight-self.scrollY<1500||t)&&!u?(u=!0,function(e){const t=new URL(e);return t.searchParams.append("av_seamless_rl",""),fetch(t).then((e=>e.text())).then((t=>{var n;let a=(new DOMParser).parseFromString(t,"text/html");!function(e){const t=Array.from(document.styleSheets).filter((e=>e.href)).map((e=>e.href));Array.from(e.querySelectorAll("link[rel=stylesheet]")).filter((e=>!t.includes(e.href))).forEach((e=>document.head.append(e)))}(a);let i=a.querySelector(".av-site-content"),r=([(s=document.adoptNode(i)).querySelector(".author-bio"),s.querySelector(".post-navigation")].forEach((e=>null==e?void 0:e.remove())),s.querySelectorAll("script").forEach((e=>{let t=document.createElement("script");for(let n,o=0,a=e.attributes,i=a.length;o<i;o++)n=a[o],t.setAttribute(n.nodeName,n.nodeValue);t.innerHTML=e.innerHTML,e.replaceWith(t)})),s);var s;!function(e){if(-1==navigator.userAgent.indexOf("AppleWebKit/")||-1!=navigator.userAgent.indexOf("Chrome/"))return;e.querySelectorAll("img[srcset]").forEach((e=>{e.srcset=e.srcset}))}(r);const c=null==(n=a.querySelector("#av-technical-trackers"))?void 0:n.textContent,l={container:r,anchorTop:null,originalDocument:a,title:a.title,url:e,technicalTrackersScriptCode:c};v(l),He.push(l),o.parentElement.insertBefore(r,o),document.dispatchEvent(new Event("AVAdvPopulateSlots")),u=!1}))}(n[d++].url)):void 0;document.removeEventListener("scroll",f)}function m(){var e,t,o;let i=self.scrollY,r=null==(e=He[Fe-1])?void 0:e.container,c=null==(t=He[Fe])?void 0:t.container,l=null==(o=He[Fe+1])?void 0:o.container;l&&l.offsetTop-i<200&&(He.forEach((e=>e.container.classList.remove("page-active"))),l.classList.add("page-active"),Fe++,a.querySelector(".av-rl-nav .current").innerHTML=Fe+1,self.history.pushState({},He[Fe].title,n[Fe].url),document.title=He[Fe].title,h(l),function(e){const t=He[e];if(!t.technicalTrackersScriptCode)return;let n=document.createElement("script");n.innerHTML=t.technicalTrackersScriptCode,document.body.appendChild(n),t.technicalTrackersScriptCode=null}(Fe),document.dispatchEvent(new Event("AVPageVisibilityChange"))),r&&c&&c.offsetTop-i>200&&(He.forEach((e=>e.container.classList.remove("page-active"))),r.classList.add("page-active"),Fe--,a.querySelector(".av-rl-nav .current").innerHTML=Fe+1,self.history.replaceState({},He[Fe].title,He[Fe].url),document.title=He[Fe].title,h(r),document.dispatchEvent(new Event("AVPageVisibilityChange")));let u=i,d=He[Fe].anchorTop;d&&(u=u-d+60*Fe);let f=u/c.scrollHeight*100;f<=1?f=.75:f>=99&&(f=99.25),s.style.width=f+"%"}function h(e){c.innerHTML=e.querySelector(".entry-title").innerHTML,i.innerHTML="";let n=e.querySelector(".av-social-share");if(n){if(n=n.cloneNode(!0),n.querySelectorAll(".av-social-btn").forEach((e=>{e.classList.remove("av-share-btn"),e.classList.add("av-rl-social-btn")})),t.facebook_only_mode&&n.querySelector(".av-facebook")){n.querySelectorAll(".av-social-btn").forEach((e=>{e.classList.contains("av-facebook")||e.remove()})),n.classList.add("av-only-facebook");let e='<span class="av-social-btn-label">'+t.share_label+"</span>";n.querySelector(".av-facebook a").insertAdjacentHTML("beforeend",e)}i.appendChild(n)}}function v(e){const t=e.container;t.style.position="relative";let n=document.createElement("div");n.classList.add("scroll-anchor-top"),n.style.cssText="position: absolute; top: -60px;",t.insertBefore(n,t.firstChild),setTimeout((()=>{e.anchorTop=Math.round(n.getBoundingClientRect().top+self.scrollY)}),20)}document.addEventListener("scroll",f),document.addEventListener("scroll",m),f(),m(),document.addEventListener("click",(e=>{let t=e.target;for(;t&&t.parentNode;){if(t.classList.contains("av-rl-social-btn")){self.open(t.querySelector("a").href,"win","width=600,height=400"),e.preventDefault();break}t=t.parentNode}}))}(),async function(){await r;const e=["[href*='amzn.to'i]","[href*='amazon.'i][href*='tag='i]"],t=document.querySelectorAll(e.join(","));for(const e of t)Tn(e);document.body.addEventListener("click",(t=>{t.target.matches(e.join(","))&&Tn(t.target,"click")}))}(),async function(){Jn({hitType:"page_view"}),async function(e){(await Qn())(e)}({eventName:"page_view"}),ao({hitType:"page_view"}),async function(e){(await ro())(e)}({eventName:"page_view"});const e=new Set([0]);document.addEventListener("AVPageVisibilityChange",(()=>{const t=Ve();e.has(t)||(e.add(t),function(e){const t={hitType:"page_view",sourceElement:ze(e)};Jn(t),ao(t);const{url:n}=Ye(e);lo("pageview",{location:n})}(t))})),Dn(so),setInterval(co,3e4)}(),async function(){po().then((e=>Oo(bo,e))),fo().then((e=>Oo(ko,e))),mo().then((e=>Oo(Eo,e,e.entry.element))),uo().then((e=>Oo(To,e))),document.addEventListener("visibilitychange",(()=>"hidden"===document.visibilityState&&(Io(),void Co())))}(),async function(){await r;let e=await p("affiliation_tools_data");if(void 0!==e)if(e.doRequest=Boolean(parseInt(e.doRequest,10)),function(e){e.items={},e.missing={},e.toolsGroups.forEach((function(t,n){t.items.forEach((function(t,o){void 0!==t.link_url&&""!==t.link_url||(Ro({groupIndex:n,itemIndex:o,alternativeIndex:!1,terms:t.model.name,category:t.category_label},e),t.alternatives.forEach((function(t,a){void 0!==t.link_url&&""!==t.link_url||Ro({groupIndex:n,itemIndex:o,alternativeIndex:a,terms:t.model.name,category:t.category_label},e)})))}))}))}(e),Object.keys(e.items).length>0)Uo(e);else if(e.doRequest&&Object.keys(e.missing).length>0){let t={method:"POST",body:JSON.stringify({nonce:e.nonce,postId:e.postId,hits:e.items,miss:e.missing})};fetch(e.ajaxurl,t).then((t=>t.ok?t.json().then((t=>{t.success&&(e.items=t.data.hits,Uo(e))})):t))}}(),async function(){await r;let e=new URL(document.location).searchParams;if(e.has("highlight_link")){let t=e.get("highlight_link");document.querySelectorAll('a[href="'+t+'"]').forEach(((e,t)=>{Object.assign(e.style,{color:"red","font-weight":"bold","text-decoration":"underline"}),0===t&&e.scrollIntoView()}))}}(),async function(){if(!(self&&"ServiceWorkerGlobalScope"in self?"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")))return;if(Zo=await p("push_notifications_data"),!Zo)return;let e=await async function(e){let t={headers(t){let n={};for(let t in e.headers)Object.prototype.hasOwnProperty.call(e.headers,t)&&(n[t]=e.headers[t]);for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n},create_token(n,o,a,i){Qo.ajax({headers:t.headers({"X-Http-Method-Override":"POST"}),cache:!1,url:e.ajax_url+"token/",type:"post",dataType:"json",data:{act:"create_token",platform:e.platform,account:e.account,token:n,locale:o,timezone:a},success(e){"function"==typeof i&&i(e)},error(){self.console.log("create_token error")}})},replace_topics(n,o,a){Qo.ajax({headers:t.headers({"X-Http-Method-Override":"PUT"}),cache:!1,url:e.ajax_url+"topics/",type:"post",dataType:"json",data:{act:"replace_topics",platform:e.platform,account:e.account,token:n,topics:o},success(e){"function"==typeof a&&a(e)},error(){self.console.log("replace_topics error")}})},add_topics(n,o,a){Qo.ajax({headers:t.headers({"X-Http-Method-Override":"POST"}),cache:!1,url:e.ajax_url+"topics/",type:"post",dataType:"json",data:{act:"add_topics",platform:e.platform,account:e.account,token:n,topics:o},success(e){"function"==typeof a&&a(e)},error(){self.console.log("add_topics error")}})},get_token_topics(n,o){Qo.ajax({headers:t.headers({"X-Http-Method-Override":"GET"}),cache:!1,url:e.ajax_url+"topics/",type:"post",dataType:"json",data:{act:"get_token_topics",platform:e.platform,account:e.account,token:n},success(e){"function"==typeof o&&o(e)},error(){self.console.log("get_token_topics error")}})},get_topics(n){Qo.ajax({headers:t.headers({"X-Http-Method-Override":"GET"}),cache:!1,url:e.ajax_url+"topics/",type:"post",dataType:"json",data:{act:"get_topics",platform:e.platform,account:e.account},success(e){"function"==typeof n&&n(e)},error(e){self.console.error("get_topics error"),self.console.error(e)}})},get_token(n){Qo.ajax({headers:t.headers({"X-Http-Method-Override":"GET"}),cache:!1,url:e.ajax_url+"token/",type:"post",dataType:"json",data:{act:"get_token",platform:e.platform,account:e.account,token:n},success(){},error(){self.console.log("get_token error")}})},track_notification_click(n,o,a){Qo.ajax({headers:t.headers({"X-Http-Method-Override":"POST"}),cache:!1,url:e.ajax_url+"notification_click/",type:"post",dataType:"json",data:{act:"track_notification_click",platform:e.platform,account:e.account,token:n,notification_id:o,hash:a},success(){},error(){self.console.log("track_notification_click error")}})}};return t}(Zo),t=await async function(e,t){let n={event_element:self.document.createElement("span"),isFirstRequestPermission:!0,token:"",supported:!1,getQueryParams(e){let t,n,o,a,i={};for(t=e.split("&"),o=0,a=t.length;o<a;o++)n=t[o].split("="),i[n[0]]=n[1];return i},sendTokenToServer(e){let o=(new self.Intl.DateTimeFormat).resolvedOptions();self.console.log("push notification create_token"),t.create_token(e,o.locale,o.timeZone,(function(){self.console.log("push notification add_topics"),t.add_topics(n.token,["default"])}))},get_token(e){self.firebase.messaging().getToken().then((function(o){if(""===n.token&&null!==o&&(self.console.log("token",o),n.token=o,self.document.body.dispatchEvent(new Event("push_notification_token_ready")),self.console.log("is_first",n.isFirstRequestPermission),n.isFirstRequestPermission||(self.document.body.dispatchEvent(new Event("push_notification_granted")),self.console.log("Notification permission granted."),n.sendTokenToServer(o))),o){if(self.location.search.length>0){let e=self.location.search;e=e.substring(e.indexOf("?")+1);let a=n.getQueryParams(e);void 0!==a.notification_id&&void 0!==a.hash&&t.track_notification_click(o,a.notification_id,a.hash)}"function"==typeof n.onTokenReady&&n.onTokenReady()}else e?(self.console.log("No Instance ID token available. Request permission to generate one."),self.firebase.messaging().requestPermission().then((function(){n.isFirstRequestPermission=!1,n.get_token()})).catch((function(e){self.console.log("Unable to get permission to notify.",e),"function"==typeof n.onNoPermission&&n.onNoPermission(e)}))):"function"==typeof n.onTokenReady&&n.onTokenReady()})).catch((function(e){self.console.log("Error retrieving Instance ID token. ",e),"function"==typeof n.onUnsupported&&n.onUnsupported()}))}};return n}(0,e);await Ho(Zo,t),await Ko(Zo,e,t)}(),async function(){!async function(){rt("av-captcha",ea)}()}(),async function(){const e=await p("affiliation-banner");ta=bn(e.universalAnalytics),rt("av-affiliation-banner-slot",ia)}(),async function(){await r,document.hasFocus()||await new Promise((e=>self.addEventListener("focus",(()=>e()),{once:!0})));const e=document.querySelector("meta[name='av-autoreload']");if(!e)return;document.querySelector("#disqus_thread")||(Rn=1e3*parseInt(e.content,10),T(Bn)())}();
